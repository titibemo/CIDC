"use strict";(self["webpackChunkyoome_front"]=self["webpackChunkyoome_front"]||[]).push([[973],{973:function(e,a,l){l.r(a),l.d(a,{default:function(){return f}});var o=l(641),t=l(751),n=l(953),s=l(8),i=l(638),u=l(552),r=l(519),c=l(157),p=l(777);const d=e=>(0,p.A)(e,'<svg width="24" height="24"><g fill="none"><path d="M24 0v24H0V0zM12.594 23.258l-.012.002-.071.035-.02.004-.014-.004-.071-.036q-.016-.004-.024.006l-.004.01-.017.428.005.02.01.013.104.074.015.004.012-.004.104-.074.012-.016.004-.017-.017-.427q-.004-.016-.016-.018Zm.264-.113-.014.002-.184.093-.01.01-.003.011.018.43.005.012.008.008.201.092q.019.005.029-.008l.004-.014-.034-.614q-.005-.018-.02-.022Zm-.715.002a.02.02 0 0 0-.027.006l-.006.014-.034.614q.001.018.017.024l.015-.002.201-.093.01-.008.003-.011.018-.43-.003-.012-.01-.01z"/><path fill="#09244B" d="M12.6 2.2a1 1 0 0 0-1.2 0 8 8 0 0 0-1.147 1.073C9.73 3.862 9 4.855 9 6a3 3 0 0 0 3 3H6a3 3 0 0 0-3 3v2c0 1.236 1.411 1.942 2.4 1.2l.667-.5a1 1 0 0 1 1.2 0l.266.2a3 3 0 0 0 3.6 0l.267-.2a1 1 0 0 1 1.2 0l.267.2a3 3 0 0 0 3.6 0l.266-.2a1 1 0 0 1 1.2 0l.667.5c.989.742 2.4.036 2.4-1.2v-2a3 3 0 0 0-3-3h-6a3 3 0 0 0 3-3c0-1.145-.73-2.138-1.253-2.727-.346-.39-.73-.76-1.147-1.073ZM4 17.415V20a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2.585a1.48 1.48 0 0 1-1.4-.215l-.667-.5a1 1 0 0 0-1.2 0l-.266.2a3 3 0 0 1-3.6 0l-.267-.2a1 1 0 0 0-1.2 0l-.267.2a3 3 0 0 1-3.6 0l-.266-.2a1 1 0 0 0-1.2 0l-.667.5a1.48 1.48 0 0 1-1.4.215Z"/></g></svg>');var v=l(609),m=l(449);const h={class:"bodyRegister"},k={class:"paddNone"},b={class:"paddNone"};var L={__name:"RegisterView",setup(e){const a=(0,n.KR)(""),l=(0,n.KR)(""),p=(0,n.KR)(""),L=(0,n.KR)(""),R=(0,n.KR)(""),g=(0,n.KR)(""),f=(0,n.KR)(""),y=()=>{R.value.length&&a.value.length&&l.value.length&&p.value.length&&L.value.length&&R.value===g.value?E():alert("Les mots de passe ne correspondent pas.")},E=async()=>{const e={email:a.value,firstname:l.value,lastname:p.value,birthdate:L.value,password:R.value};try{const a=await fetch("http://10.0.0.170:3000/api/users/register",{method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});if(!a.ok)return void alert("Erreur lors de l'inscription.");await a.json(),S()}catch(o){console.error("Error during register:",o)}},A=e=>{const a=JSON.parse(atob(e.split(".")[1]));i.A.commit("setUser",a),i.A.commit("setToken",e),i.A.commit("createToken",e)},S=async()=>{const e={email:a.value,password:R.value};try{const a=await fetch("http://10.0.1.87:3000/api/users/login",{method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});if(!a.ok)return console.log("ERREUR"),void alert("utilisateur inconnu ou mot de passe incorrect");const l=await a.json();s.A.push("/profiles"),A(l.token)}catch(l){console.error("Error during login:",l)}};return(e,s)=>((0,o.uX)(),(0,o.CE)("div",h,[(0,o.Lk)("form",{onSubmit:(0,t.D$)(y,["prevent"]),class:"bodypage"},[(0,o.Lk)("div",null,[(0,o.bF)((0,n.R1)(u.URz),{class:"icon"}),(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"NOM","onUpdate:modelValue":s[0]||(s[0]=e=>p.value=e),required:""},null,512),[[t.Jo,p.value]])]),(0,o.Lk)("div",null,[(0,o.bF)((0,n.R1)(r.G7s),{class:"icon"}),(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"PRENOM","onUpdate:modelValue":s[1]||(s[1]=e=>l.value=e),required:""},null,512),[[t.Jo,l.value]])]),s[8]||(s[8]=(0,o.Lk)("p",{class:"nomInput"},"GENRE",-1)),(0,o.Lk)("div",k,[(0,o.bF)((0,n.R1)(c.H3W),{class:"icon"}),(0,o.bo)((0,o.Lk)("select",{name:"sexe",id:"","onUpdate:modelValue":s[2]||(s[2]=e=>f.value=e),required:""},s[7]||(s[7]=[(0,o.Lk)("option",{value:""},null,-1),(0,o.Lk)("option",{value:"homme"},"Homme",-1),(0,o.Lk)("option",{value:"femme"},"Femme",-1)]),512),[[t.u1,f.value]])]),s[9]||(s[9]=(0,o.Lk)("p",{class:"nomInput2"},"DATE DE NAISSANCE",-1)),(0,o.Lk)("div",b,[(0,o.bF)((0,n.R1)(d),{class:"icon"}),(0,o.bo)((0,o.Lk)("input",{type:"date",class:"dateN",placeholder:"Date de naissance","onUpdate:modelValue":s[3]||(s[3]=e=>L.value=e),max:"2006-01-01",required:""},null,512),[[t.Jo,L.value]])]),(0,o.Lk)("div",null,[(0,o.bF)((0,n.R1)(v.Mot),{class:"email"}),(0,o.bo)((0,o.Lk)("input",{type:"email",placeholder:"EMAIL","onUpdate:modelValue":s[4]||(s[4]=e=>a.value=e),required:""},null,512),[[t.Jo,a.value]])]),(0,o.Lk)("div",null,[(0,o.bF)((0,n.R1)(m.Evr),{class:"icon"}),(0,o.bo)((0,o.Lk)("input",{type:"password",placeholder:"MOT DE PASSE","onUpdate:modelValue":s[5]||(s[5]=e=>R.value=e),required:""},null,512),[[t.Jo,R.value]])]),(0,o.Lk)("div",null,[(0,o.bF)((0,n.R1)(m.Evr),{class:"icon"}),(0,o.bo)((0,o.Lk)("input",{type:"password",placeholder:"VALIDER MOT DE PASSE","onUpdate:modelValue":s[6]||(s[6]=e=>g.value=e),required:""},null,512),[[t.Jo,g.value]])]),s[10]||(s[10]=(0,o.Lk)("button",{type:"submit"},"SUIVANT",-1))],32)]))}},R=l(262);const g=(0,R.A)(L,[["__scopeId","data-v-a0f712f8"]]);var f=g}}]);
//# sourceMappingURL=973.d18d97c5.js.map