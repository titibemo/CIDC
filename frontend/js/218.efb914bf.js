"use strict";(self["webpackChunkyoome_front"]=self["webpackChunkyoome_front"]||[]).push([[218],{218:function(a,t,s){s.r(t),s.d(t,{default:function(){return v}});var o=s(641),e=s(751),n=s(953),c=s(425),r=s(70),l=s(278),i=s(220),d=s(519);const u={class:""};var p={__name:"LoginView",setup(a){const t=(0,i.rd)(),s=(0,l.Pj)(),p=(0,n.KR)(""),g=(0,n.KR)(""),m=a=>{const o=JSON.parse(atob(a.split(".")[1]));s.commit("setUser",o),s.commit("setToken",a),s.commit("createToken",a),t.push("/Decouvrirprofil")},v=async()=>{const a={email:p.value,password:g.value};try{const t=await fetch("http://10.0.0.170:3000/api/users/login",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});if(!t.ok)return console.log("ERREUR"),void alert("utilisateur inconnu ou mot de passe incorrect");const s=await t.json();m(s.token)}catch(t){console.error("Error during login:",t)}};return(a,t)=>{const s=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("header",u,[t[4]||(t[4]=(0,o.Lk)("img",{class:"logo",src:c,alt:""},null,-1)),(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,e.D$)((()=>{}),["prevent"])),class:"login"},[(0,o.Lk)("div",null,[(0,o.bF)((0,n.R1)(d.G7s),{class:"icon"}),(0,o.bo)((0,o.Lk)("input",{type:"email",placeholder:"ADRESSE MAIL","onUpdate:modelValue":t[0]||(t[0]=a=>p.value=a),required:""},null,512),[[e.Jo,p.value]])]),(0,o.Lk)("div",null,[(0,o.bF)((0,n.R1)(d.G7s),{class:"icon"}),(0,o.bo)((0,o.Lk)("input",{type:"password",placeholder:"MOT DE PASSE","onUpdate:modelValue":t[1]||(t[1]=a=>g.value=a)},null,512),[[e.Jo,g.value]])]),(0,o.Lk)("button",{class:"validate",type:"submit",onClick:v},"SE CONNECTER"),(0,o.Lk)("p",null,[t[3]||(t[3]=(0,o.eW)("Mot de passe oubli√© ? ")),(0,o.bF)(s,{to:"/inscription"})])],32),t[5]||(t[5]=(0,o.Fv)('<p class="marquee" data-v-91b5f40c><span data-v-91b5f40c> you <strong data-v-91b5f40c> and </strong> me <img class="heart" src="'+r+'" alt="" data-v-91b5f40c> you <strong data-v-91b5f40c> and </strong> me <img class="heart" src="'+r+'" alt="" data-v-91b5f40c> you <strong data-v-91b5f40c> and </strong> me <img class="heart" src="'+r+'" alt="" data-v-91b5f40c> you <strong data-v-91b5f40c> and </strong> me <img class="heart" src="'+r+'" alt="" data-v-91b5f40c> you <strong data-v-91b5f40c> and </strong> me <img class="heart" src="'+r+'" alt="" data-v-91b5f40c></span></p><p class="marquee marquee2" data-v-91b5f40c><span data-v-91b5f40c> you <strong data-v-91b5f40c> and </strong> me <img class="heart" src="'+r+'" alt="" data-v-91b5f40c> you <strong data-v-91b5f40c> and </strong> me <img class="heart" src="'+r+'" alt="" data-v-91b5f40c> you <strong data-v-91b5f40c> and </strong> me <img class="heart" src="'+r+'" alt="" data-v-91b5f40c> you <strong data-v-91b5f40c> and </strong> me <img class="heart" src="'+r+'" alt="" data-v-91b5f40c> you <strong data-v-91b5f40c> and </strong> me <img class="heart" src="'+r+'" alt="" data-v-91b5f40c></span></p>',2))])}}},g=s(262);const m=(0,g.A)(p,[["__scopeId","data-v-91b5f40c"]]);var v=m},425:function(a,t,s){a.exports=s.p+"img/logo.a6eb749c.png"}}]);
//# sourceMappingURL=218.efb914bf.js.map