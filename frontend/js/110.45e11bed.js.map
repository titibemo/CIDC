{"version":3,"file":"js/110.45e11bed.js","mappings":"mmBAyDA,MAAMA,GAAW,QAAI,IACfC,GAAW,QAAI,IACfC,GAAM,QAAI,MACVC,GAAW,UACXC,GAAc,QAAI,IAClBC,GAAQ,QAAI,IACZC,GAAc,QAAI,IAClBC,GAAW,QAAI,IACfC,EAAM,kCACNC,GAAO,SAAS,IAAMC,EAAA,EAAMC,MAAMF,MAAQ,CAAC,KACjD,SAAU,KAENG,GAAsB,IAG1B,MAAMC,EAAiB,KACnBC,EAAA,EAAOC,KAAK,iBAAgB,EAG1BH,EAAwBI,UAC1B,IACI,MAAMC,QAAiBC,MAAM,kDAA6DT,EAAKU,MAAMC,KAAM,CACvGC,OAAQ,QAIZ,IAAKJ,EAASK,GAIV,YAFAC,QAAQC,IAAIC,OAIhB,MAAMC,QAAeT,EAASU,OAG9BvB,EAAYe,MAAyC,kBAA1BO,EAAO,GAAGtB,YAC/BsB,EAAO,GAAGtB,YAAYwB,MAAM,KAAKC,KAAIC,GAAQA,EAAKC,SAClDL,EAAO,GAAGtB,YAChBC,EAAMc,MAAyC,kBAA1BO,EAAO,GAAGtB,YACzBsB,EAAO,GAAGrB,MAAMuB,MAAM,KAAKC,KAAIC,GAAQA,EAAKC,SAC5CL,EAAO,GAAGrB,MAEhBE,EAASY,MAAQO,EAAO,GAAGM,OAC3B7B,EAASgB,MAAQO,EAAO,GAAGvB,SAC3BH,EAASmB,MAAQO,EAAO,GAAGO,aAC3B3B,EAAYa,MAAQO,EAAO,GAAGpB,YAG9B4B,GAEJ,CAAE,MAAOT,OACLF,QAAQE,MAAM,oCAAqCA,MACvD,GAEEU,EAAgBC,IAClB,MAAMC,EAAY,IAAIC,KAAKF,GACrBG,EAAQ,IAAID,KAClB,IAAIpC,EAAMqC,EAAMC,cAAgBH,EAAUG,cAC1C,MAAMC,EAAYF,EAAMG,WAAaL,EAAUK,WAO/C,OAJID,EAAY,GAAoB,IAAdA,GAAmBF,EAAMI,UAAYN,EAAUM,YACjEzC,IAGGA,CAAG,EAERgC,EAAYlB,UAGd,IACI,MAAMC,QAAiBC,MAAM,6CAAwDT,EAAKU,MAAMC,KAAM,CAClGC,OAAQ,SAIZ,IAAKJ,EAASK,GAIV,YAFAC,QAAQC,IAAIC,OAIhB,MAAMC,QAAeT,EAASU,OAE9BzB,EAAIiB,MAAQgB,EAAaT,EAAO,GAAGU,WACnCnC,EAASkB,MAAQO,EAAO,GAAGkB,SAG/B,CAAE,MAAOnB,OACLF,QAAQE,MAAM,yCAA0CA,MAC5D,G,k3EC7IJ,MAAMoB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://yoome-front/./src/views/users/monProfilView.vue","webpack://yoome-front/./src/views/users/monProfilView.vue?b266"],"sourcesContent":["<template>\r\n    <label class=\"file-upload\">\r\n        <div :style=\"`background-image:url('${url}${urlImage}')`\" class=\"file-upload\">\r\n            <div class=\"container\">\r\n                <div class=\"infoUser\">\r\n                    <h1 class=\"textImage\">{{ nameUser }}  </h1>\r\n                   \r\n                </div>\r\n               \r\n                <div class=\"infoUser textuser\">\r\n                   <h1 class=\"textuser\">{{age}} ans</h1>  \r\n                </div>\r\n                \r\n                <div class=\"infoUser textuser\">\r\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 9 11\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path\r\n                            d=\"M4.49992 10.1345C4.41506 10.1345 4.3302 10.1206 4.24534 10.0928C4.16048 10.065 4.08248 10.0198 4.01134 9.95737C3.62603 9.60312 3.23531 9.20861 2.83917 8.77383C2.44339 8.33942 2.08409 7.88929 1.76125 7.42346C1.43842 6.95762 1.17336 6.48222 0.966087 5.99725C0.758809 5.51228 0.655532 5.03886 0.656254 4.577C0.656254 3.43119 1.02928 2.48617 1.77534 1.74192C2.52175 0.997305 3.42995 0.625 4.49992 0.625C5.56989 0.625 6.47809 0.997305 7.2245 1.74192C7.97056 2.48617 8.34359 3.43119 8.34359 4.577C8.34359 5.03886 8.24031 5.51065 8.03375 5.99237C7.8272 6.47374 7.56395 6.94896 7.244 7.41804C6.92442 7.88749 6.56674 8.33779 6.17096 8.76896C5.77518 9.20012 5.38428 9.59283 4.99825 9.94708C4.92928 10.0096 4.85092 10.0565 4.76317 10.0879C4.67506 10.119 4.58713 10.1345 4.49938 10.1345M4.50155 5.35429C4.74241 5.35429 4.94824 5.26835 5.11905 5.09646C5.28949 4.92493 5.37471 4.71856 5.37471 4.47733C5.37471 4.23611 5.28877 4.03028 5.11688 3.85983C4.94499 3.68939 4.73862 3.60417 4.49775 3.60417C4.25689 3.60417 4.05106 3.69011 3.88025 3.862C3.70945 4.03389 3.62423 4.24026 3.62459 4.48112C3.62495 4.72199 3.71071 4.92782 3.88188 5.09862C4.05305 5.26943 4.2596 5.35465 4.50155 5.35429Z\"\r\n                            fill=\"#F97068\" />\r\n                    </svg>\r\n                    <h1 class=\"textImage textuser\">{{ cityUser }} </h1>\r\n                </div>\r\n                <div class=\"infoUser \">\r\n                    <img class=\"icon\" src=\"./../../assets/pictures/home/logo-m.png\" alt=\"\">\r\n                    <h1 v-if=\"children > 1\" class=\"textImage textuser\">{{ children }} enfants </h1>\r\n                    <h1 v-else class=\"textImage textuser\">{{ children }} enfant </h1>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n        <div class=\"round2 icon\"  @click=\"modifierProfil\">\r\n            <AkPencil class=\"icon\" />\r\n        </div>\r\n    </label>\r\n\r\n    <div class=\"bodypage\">\r\n        <div class=\"suggestion-item\" v-for=\"(perso, index) in personality\" :key=\"index\">\r\n            {{ perso }}\r\n        </div>\r\n        <div class=\"suggestion-item\" v-for=\"(perso, index) in hobby\" :key=\"index\">\r\n            {{ perso }}\r\n        </div>\r\n    </div>\r\n    <div class=\"ligne\">\r\n\r\n    </div>\r\n\r\n    <div class=\"description\">\r\n        {{ description }}\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, onMounted, ref } from 'vue';\r\nimport store from '@/store';\r\nimport { AkPencil } from '@kalimahapps/vue-icons';\r\nimport router from '@/router';\r\nconst cityUser = ref('')\r\nconst nameUser = ref('')\r\nconst age = ref(null)\r\nconst children = ref()\r\nconst personality = ref([])\r\nconst hobby = ref([])\r\nconst description = ref('')\r\nconst urlImage = ref('')\r\nconst url = `${process.env.VUE_APP_IP_ADDRESS}/uploads/`;\r\nconst user = computed(() => store.state.user || {});\r\nonMounted(() => {\r\n\r\n    fetchDecouverteProfil()\r\n});\r\n\r\nconst modifierProfil = () => {\r\n    router.push('/ModiferProfil')\r\n}\r\n\r\nconst fetchDecouverteProfil = async () => {\r\n    try {\r\n        const response = await fetch(`${process.env.VUE_APP_IP_ADDRESS}/api/profiles/showProfil/${user.value.id}`, {\r\n            method: 'get',\r\n\r\n        })\r\n\r\n        if (!response.ok) {\r\n\r\n            console.log(error);\r\n\r\n            return;\r\n        }\r\n        const result = await response.json();\r\n\r\n \r\n        personality.value = typeof result[0].personality === 'string'\r\n            ? result[0].personality.split(',').map(item => item.trim())\r\n            : result[0].personality;\r\n        hobby.value = typeof result[0].personality === 'string'\r\n            ? result[0].hobby.split(',').map(item => item.trim())\r\n            : result[0].hobby;\r\n\r\n        urlImage.value = result[0].selfie\r\n        children.value = result[0].children\r\n        cityUser.value = result[0].localisation\r\n        description.value = result[0].description\r\n        \r\n\r\n        fetchUser()\r\n\r\n    } catch (error) {\r\n        console.error('Erreur lors du fetch showprofil :', error);\r\n    }\r\n}\r\nconst calculateAge = (birthdate) => {\r\n    const birthDate = new Date(birthdate);\r\n    const today = new Date();\r\n    let age = today.getFullYear() - birthDate.getFullYear();\r\n    const monthDiff = today.getMonth() - birthDate.getMonth();\r\n\r\n    // Ajuste l'âge si l'anniversaire n'est pas encore passé cette année\r\n    if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {\r\n        age--;\r\n    }\r\n\r\n    return age;\r\n};\r\nconst fetchUser = async () => {\r\n\r\n\r\n    try {\r\n        const response = await fetch(`${process.env.VUE_APP_IP_ADDRESS}/api/users/listUser/${user.value.id}`, {\r\n            method: 'post',\r\n\r\n        })\r\n\r\n        if (!response.ok) {\r\n\r\n            console.log(error);\r\n\r\n            return;\r\n        }\r\n        const result = await response.json();\r\n\r\n        age.value = calculateAge(result[0].birthdate);\r\n        nameUser.value = result[0].firstname\r\n\r\n\r\n    } catch (error) {\r\n        console.error('Erreur lors du fetch user profilview :', error);\r\n    }\r\n} \r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/style/variablecouleur.scss\";\r\n\r\n.container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: end;\r\n    padding: 5px 20px;\r\n    background-color: rgb(0, 0, 0, 0.4);\r\n}\r\n\r\n.ligne {\r\n    background-color: black;\r\n    height: 1px;\r\n    margin: 30px\r\n}\r\n.textuser{\r\n    font-weight: 300;\r\n}\r\n\r\n.description {\r\n    width: 80vw;\r\n    margin: auto;\r\n    margin-bottom: 100px;\r\n}\r\n\r\n.bodypage {\r\n    display: flex;\r\n    margin-top: 50px;\r\n    justify-content: center;\r\n    flex-direction: row;\r\n\r\n    flex-wrap: wrap;\r\n    align-items: center;\r\n    color: $primary;\r\n    font-weight: 600;\r\n    gap: 10px;\r\n\r\n    .suggestion-item {\r\n        border: 1px solid;\r\n        border-color: $primary;\r\n        border-radius: 20px;\r\n        padding: 10px;\r\n\r\n    }\r\n\r\n}\r\n\r\n.infoUser {\r\n    width: 100%;\r\n    height: 30px;\r\n    text-align: left;\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    font-size: 10px;\r\n    color: whitesmoke;\r\n\r\n    gap: 5px;\r\n\r\n    .icon {\r\n\r\n        height: 50%;\r\n    }\r\n}\r\n\r\n.file-upload {\r\n    width: 100%;\r\n    height: 350px;\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    background-position: center;\r\n    background-size: cover;\r\n    align-items: left;\r\n    justify-content: flex-end;\r\n\r\n    margin: auto;\r\n\r\n    .round2 {\r\n        height: 50px;\r\n        width: 50px;\r\n        align-items: center;\r\n        align-content: center;\r\n        border-radius: 99999%;\r\n        background-color: rgba(186, 203, 234, 1);\r\n        position: absolute;\r\n        right: 50px;\r\n        margin-top: 100px;\r\n        top: 295px;\r\n\r\n        .icon {\r\n            color: rgba(111, 131, 169, 1);\r\n            height: 60%;\r\n            width: 60%;\r\n        }\r\n    }\r\n}\r\n</style>","import script from \"./monProfilView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./monProfilView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./monProfilView.vue?vue&type=style&index=0&id=3000bcb0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3000bcb0\"]])\n\nexport default __exports__"],"names":["cityUser","nameUser","age","children","personality","hobby","description","urlImage","url","user","store","state","fetchDecouverteProfil","modifierProfil","router","push","async","response","fetch","value","id","method","ok","console","log","error","result","json","split","map","item","trim","selfie","localisation","fetchUser","calculateAge","birthdate","birthDate","Date","today","getFullYear","monthDiff","getMonth","getDate","firstname","__exports__"],"sourceRoot":""}