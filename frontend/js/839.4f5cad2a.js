"use strict";(self["webpackChunkyoome_front"]=self["webpackChunkyoome_front"]||[]).push([[839],{839:function(e,l,o){o.r(l),o.d(l,{default:function(){return c}});var t=o(641),a=o(751),r=o(8),u=o(953),n=o(638);const i={class:"bodyRegister"};var s={__name:"modifierUserProfil",setup(e){const l=(0,t.EW)((()=>n.A.state.user||{})),o=(0,u.KR)(""),s=(0,u.KR)(""),d=(0,u.KR)(""),p=((0,u.KR)(""),(0,u.KR)(""),(0,u.KR)(""),(0,u.KR)(""),(0,u.KR)("")),c=(0,u.KR)(""),v=()=>{p.value.length>0&&o.value.length>0&&s.value.length>0&&d.value.length>0&&p.value===c.value?m():alert("Les mots de passe ne correspondent pas.")},m=async()=>{const e={email:o.value,firstname:s.value,lastname:d.value,birthdate:l.value.birthdate,password:p.value};try{const o=await fetch(`http://10.0.0.170:3000/api/users/modifyUser/${l.value.id}`,{method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});if(!o.ok)throw new Error(`HTTP error! Status: ${o.status}`);const t=await o.json();r.A.push("/monProfil"),console.log("Profil modifié avec succès:",t)}catch(t){console.error("Error during fetch modifier user",t)}};return(e,l)=>((0,t.uX)(),(0,t.CE)("div",i,[l[14]||(l[14]=(0,t.Lk)("h3",null,"Modifier mon profil",-1)),(0,t.Lk)("form",{onSubmit:(0,a.D$)(v,["prevent"]),class:"bodypage"},[l[6]||(l[6]=(0,t.Lk)("h4",null," INFORMATION PERSONNELLES",-1)),l[7]||(l[7]=(0,t.Lk)("p",null,"Nom d'utilisateur :",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text",placeholder:"Modifier le nom d’utilisateur","onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),required:""},null,512),[[a.Jo,d.value]]),l[8]||(l[8]=(0,t.Lk)("p",null,"Prenom d'utilisateur : ",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text",placeholder:"Modifier le prenom d’utilisateur","onUpdate:modelValue":l[1]||(l[1]=e=>s.value=e),required:""},null,512),[[a.Jo,s.value]]),l[9]||(l[9]=(0,t.Lk)("p",null,"Adresse mail :",-1)),(0,t.bo)((0,t.Lk)("input",{type:"email",placeholder:"Modifier l’adresse email","onUpdate:modelValue":l[2]||(l[2]=e=>o.value=e),required:""},null,512),[[a.Jo,o.value]]),l[10]||(l[10]=(0,t.Lk)("div",{class:"ligne"},null,-1)),l[11]||(l[11]=(0,t.Lk)("h4",null," MOT DE PASSE",-1)),l[12]||(l[12]=(0,t.Lk)("p",{class:""},"Modifier le mot de passe :",-1)),(0,t.Lk)("div",null,[(0,t.bo)((0,t.Lk)("input",{type:"password",placeholder:" Nouveau mot de passe","onUpdate:modelValue":l[3]||(l[3]=e=>p.value=e),required:""},null,512),[[a.Jo,p.value]])]),(0,t.Lk)("div",null,[(0,t.bo)((0,t.Lk)("input",{type:"password",placeholder:"Confirmer le nouveau mot de passe","onUpdate:modelValue":l[4]||(l[4]=e=>c.value=e),required:""},null,512),[[a.Jo,c.value]])]),l[13]||(l[13]=(0,t.Lk)("button",{type:"submit"},"Sauvegarder",-1))],32),l[15]||(l[15]=(0,t.Lk)("div",{class:"ligne"},null,-1)),(0,t.Lk)("button",{type:"",onClick:l[5]||(l[5]=l=>e.delete)},"supprimer mon compte "),l[16]||(l[16]=(0,t.Lk)("h4",null,[(0,t.eW)("Cette action est définitive. "),(0,t.Lk)("br"),(0,t.eW)(" Votre profil, ainsi que toutes vos données, "),(0,t.Lk)("br"),(0,t.eW)(" seront supprimés de façon irréversible.")],-1)),l[17]||(l[17]=(0,t.Lk)("div",{class:"ligne"},null,-1))]))}},d=o(262);const p=(0,d.A)(s,[["__scopeId","data-v-0d9d9354"]]);var c=p}}]);
//# sourceMappingURL=839.4f5cad2a.js.map