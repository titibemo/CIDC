{"version":3,"file":"js/218.efb914bf.js","mappings":"kSAgEA,MAAMA,GAAS,UACTC,GAAQ,UACRC,GAAQ,QAAI,IACZC,GAAW,QAAI,IAKfC,EAAiBC,IACrB,MAAMC,EAAOC,KAAKC,MAAMC,KAAKJ,EAAMK,MAAM,KAAK,KAC9CT,EAAMU,OAAO,UAAWL,GACxBL,EAAMU,OAAO,WAAYN,GACzBJ,EAAMU,OAAO,cAAeN,GAE5BL,EAAOY,KAAK,mBAAkB,EAK1BC,EAAQC,UACZ,MAAMC,EAAO,CACXb,MAAOA,EAAMc,MACbb,SAAUA,EAASa,OAIrB,IACE,MAAMC,QAAiBC,MAAM,yCAAqD,CAChFC,OAAQ,OACRC,KAAMb,KAAKc,UAAUN,GACrBO,QAAS,CACP,OAAU,oCACV,eAAgB,sBAKpB,IAAKL,EAASM,GAGZ,OAFAC,QAAQC,IAAI,eACZC,MAAM,iDAIR,MAAMC,QAAeV,EAASW,OAG9BxB,EAAcuB,EAAOtB,MACvB,CAAE,MAAOwB,GACPL,QAAQM,MAAM,sBAAuBD,EACvC,G,8/DC3GF,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://yoome-front/./src/views/users/LoginView.vue","webpack://yoome-front/./src/views/users/LoginView.vue?0666"],"sourcesContent":["<template>\r\n\r\n  <header class=\"\">\r\n    <img class=\"logo\" src=\"./../../assets/pictures/home/logo.png\" alt=\"\">\r\n\r\n    <form @submit.prevent class=\"login\"> \r\n\r\n      <div>\r\n        <IcProfileCircle class=\"icon\" />\r\n        <input type=\"email\" placeholder=\"ADRESSE MAIL\" v-model=\"email\" required />\r\n      </div>\r\n\r\n      <div>\r\n        <IcProfileCircle class=\"icon\" />\r\n        <input type=\"password\" placeholder=\"MOT DE PASSE\" v-model=\"password\" />\r\n      </div>\r\n\r\n\r\n      <!--<input type=\"text\" placeholder=\"email\" name=\"email\" v-model=\"email\" />\r\n      <input type=\"password\" placeholder=\"password\" v-model=\"password\" />-->\r\n      <button class=\"validate\" type=\"submit\" @click=\"login\">SE CONNECTER</button> \r\n      <p>Mot de passe oubli√© ? <router-link to=\"/inscription\"></router-link></p>\r\n    </form>\r\n    \r\n    <p class=\"marquee\">\r\n    <span>\r\n      you <strong> and </strong> me\r\n      <img class=\"heart\" src=\"./../../assets/pictures/home/heart.png\" alt=\"\">\r\n      you <strong> and </strong> me\r\n      <img class=\"heart\" src=\"./../../assets/pictures/home/heart.png\" alt=\"\">\r\n      you <strong> and </strong> me\r\n      <img class=\"heart\" src=\"./../../assets/pictures/home/heart.png\" alt=\"\">\r\n      you <strong> and </strong> me\r\n      <img class=\"heart\" src=\"./../../assets/pictures/home/heart.png\" alt=\"\">\r\n      you <strong> and </strong> me\r\n      <img class=\"heart\" src=\"./../../assets/pictures/home/heart.png\" alt=\"\">\r\n    </span>\r\n  </p>\r\n  <p class=\"marquee marquee2\">\r\n    <span> \r\n      you <strong> and </strong> me\r\n      <img class=\"heart\" src=\"./../../assets/pictures/home/heart.png\" alt=\"\">\r\n      you <strong> and </strong> me\r\n      <img class=\"heart\" src=\"./../../assets/pictures/home/heart.png\" alt=\"\">\r\n      you <strong> and </strong> me\r\n      <img class=\"heart\" src=\"./../../assets/pictures/home/heart.png\" alt=\"\">\r\n      you <strong> and </strong> me\r\n      <img class=\"heart\" src=\"./../../assets/pictures/home/heart.png\" alt=\"\">\r\n      you <strong> and </strong> me\r\n      <img class=\"heart\" src=\"./../../assets/pictures/home/heart.png\" alt=\"\">\r\n  </span>\r\n  </p>\r\n  </header>\r\n\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue';\r\nimport { useStore } from 'vuex';\r\nimport { useRouter } from 'vue-router';\r\n\r\nimport { HeFilledUiUserProfile, IcProfileCircle, FlFilledPeopleCommunity, McBirthday2Fill, CoBrandMailRu, CgKeyhole, MdDescription } from '@kalimahapps/vue-icons';\r\n\r\nconst router = useRouter();\r\nconst store = useStore();\r\nconst email = ref('');\r\nconst password = ref('');\r\n\r\n\r\n\r\n\r\nconst setTokenStore = (token) => {\r\n  const user = JSON.parse(atob(token.split('.')[1]));\r\n  store.commit('setUser', user);\r\n  store.commit('setToken', token);\r\n  store.commit('createToken', token);\r\n\r\n  router.push('/Decouvrirprofil')\r\n};\r\n\r\n\r\n\r\nconst login = async () => {\r\n  const data = {\r\n    email: email.value,\r\n    password: password.value,\r\n    \r\n  };\r\n\r\n  try {\r\n    const response = await fetch(`${process.env.VUE_APP_IP_ADDRESS}/api/users/login`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        'Accept': 'application/json, text/plain, */*',\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n    \r\n    \r\n    if (!response.ok) {\r\n      console.log(\"ERREUR\");\r\n      alert(\"utilisateur inconnu ou mot de passe incorrect\");\r\n      return;\r\n    }\r\n\r\n    const result = await response.json();\r\n\r\n    \r\n    setTokenStore(result.token);\r\n  } catch (err) {\r\n    console.error('Error during login:', err);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\nheader{\r\n  background: rgba(0, 0, 0, 0.5) url(\"./../../assets/pictures/login/login-picture.jpg\");\r\n  background-size: cover;\r\n  background-blend-mode: darken;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  height: 80vh;\r\n  position: relative;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: center;\r\n  align-items: center;\r\n  justify-content:space-around;\r\n\r\n  .logo{\r\n    padding-top: 10vh;\r\n    width: 70%;\r\n    margin: auto;\r\n  }\r\n  .icon {\r\n    width: 15%;\r\n    height: 70%;\r\n    color: white;\r\n    margin: 10px\r\n}\r\n\r\n  div{\r\n    display: flex;\r\n    margin: 15px;\r\n    align-items: center;\r\n    width: 80vw;\r\n    height: 50px;\r\n    border: 1px solid white;\r\n    border-radius: 999px;\r\n    text-align: center;\r\n\r\n    input{\r\n      width: 80vw;\r\n      height: 40px;\r\n      background-color: transparent;\r\n      border: 0;\r\n      margin-right: 15px;\r\n      color: white;\r\n      font-weight: 800;\r\n    }\r\n  }\r\n  .validate{\r\n    border-radius: 8px;\r\n    font-size: 0.9em;\r\n    padding: 10px 10px;\r\n    font-weight: 800;\r\n  }\r\n  p{\r\n    color: white;\r\n    margin-bottom: 15vh;\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n.marquee {\r\n  margin: 0 auto;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  color: white;\r\n  width: 100%;\r\n  bottom: 5px;\r\n\r\n}\r\n\r\n.marquee span {\r\n  display: inline-block;\r\n  padding-left: 135%;\r\n  animation: marquee 8s linear infinite;\r\n}\r\n\r\n.marquee2 span {\r\n  animation-delay: 4s;\r\n}\r\n\r\n.heart{\r\n  width: 20px;\r\n  height: 13px;\r\n  padding: 0 5px;\r\n}\r\n\r\n@keyframes marquee {\r\n  0% {\r\n    transform: translate(0, 0);\r\n  }\r\n  100% {\r\n    transform: translate(-100%, 0);\r\n  }\r\n}\r\n\r\n:global(.disappear){\r\n  background-color: blue;\r\n  display: none;\r\n}\r\n\r\n</style>","import script from \"./LoginView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=91b5f40c&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-91b5f40c\"]])\n\nexport default __exports__"],"names":["router","store","email","password","setTokenStore","token","user","JSON","parse","atob","split","commit","push","login","async","data","value","response","fetch","method","body","stringify","headers","ok","console","log","alert","result","json","err","error","__exports__"],"sourceRoot":""}